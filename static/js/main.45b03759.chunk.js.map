{"version":3,"sources":["components/Header.jsx","components/Main.jsx","components/Login.jsx","components/Shared.jsx","App.js","index.js"],"names":["Header","fixed","navIcon","tabIndex","hasRipple","icon","this","props","parent","state","isLoggedIn","className","onClick","doSessionLogout","style","color","textTransform","username","indeterminate","closed","isLoading","Component","Main","note","didSomethingWentWrong","shared","isSaving","textArea","React","createRef","handleChange","bind","shareNote","current","focus","startLoading","axios","post","baseURL","password","then","response","status","setState","prevState","data","stopLoading","catch","error","console","log","shareURL","share_url","navigator","clipboard","writeText","currentTarget","value","saveNote","ref","onChange","e","message","onClose","closeOnEscape","actionText","Login","isPasswordWrong","showPassword","hideErrors","login","name","localStorage","setItem","marginBottom","label","id","trailingIcon","top","onTrailingIconSelect","prevstate","type","raised","Shared","fontFamily","position","display","paddingLeft","window","sharedPayload","backgroundColor","App","hasPageLoaded","trySessionLogin","get","getItem","clear","delete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.45b03759.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport TopAppBar, {\r\n    TopAppBarSection,\r\n    TopAppBarRow,\r\n    TopAppBarIcon,\r\n    TopAppBarTitle,\r\n} from \"@material/react-top-app-bar\";\r\nimport MaterialIcon from '@material/react-material-icon'\r\nimport LinearProgress from \"@material/react-linear-progress\";\r\nimport {Button} from \"@material/react-button\";\r\n\r\nimport '@material/react-button/dist/button.css';\r\nimport '@material/react-top-app-bar/dist/top-app-bar.css'\r\nimport '@material/react-linear-progress/dist/linear-progress.css';\r\n\r\n\r\nexport default class Header extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <TopAppBar fixed={true}>\r\n                    <TopAppBarRow>\r\n                        <TopAppBarSection>\r\n                            <TopAppBarIcon navIcon tabIndex={0}>\r\n                                <MaterialIcon hasRipple icon='notes' />\r\n                            </TopAppBarIcon>\r\n                            <TopAppBarTitle>Instant Notes</TopAppBarTitle>\r\n                        </TopAppBarSection>\r\n                        {this.props.parent.state.isLoggedIn ?\r\n                            <TopAppBarSection>\r\n                                <div className=\"header-username\">\r\n                                    <Button onClick={this.props.parent.doSessionLogout} style={{\r\n                                        color: \"white\",\r\n                                        textTransform: \"none\",\r\n                                    }} icon={<MaterialIcon icon=\"exit_to_app\" />}>\r\n                                        {this.props.parent.state.username}\r\n                                    </Button>\r\n                                </div>\r\n                            </TopAppBarSection> : \"\"}\r\n                    </TopAppBarRow>\r\n                    <LinearProgress indeterminate closed={!this.props.parent.state.isLoading} />\r\n                </TopAppBar>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import axios from 'axios'\r\nimport React, {Component} from 'react'\r\n\r\nimport MaterialIcon from \"@material/react-material-icon\"\r\nimport {Snackbar} from \"@material/react-snackbar\";\r\nimport {Fab} from \"@material/react-fab\";\r\n\r\nimport '@material/react-fab/dist/fab.css';\r\n\r\n\r\nclass Main extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            note: \"\",\r\n            didSomethingWentWrong: false,\r\n            shared: false,\r\n            isSaving: false\r\n        }\r\n        this.textArea = React.createRef()\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.shareNote = this.shareNote.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.textArea.current.focus()\r\n        this.props.parent.startLoading()\r\n        axios.post(this.props.parent.baseURL + \"/api/\", {\r\n            username: this.props.parent.state.username,\r\n            password: this.props.parent.state.password\r\n        }).then(response => {\r\n            if (response.status === 200) {\r\n                this.setState(prevState => {\r\n                    prevState.note = response.data.note\r\n                    return prevState\r\n                })\r\n                this.props.parent.stopLoading()\r\n            }\r\n        }).catch(error => {\r\n            console.log(error)\r\n            this.props.parent.stopLoading()\r\n        })\r\n    }\r\n\r\n    saveNote() {\r\n        this.props.parent.startLoading()\r\n        this.setState(prevState => {\r\n            prevState.isSaving = true\r\n            return prevState\r\n        })\r\n        axios.post(this.props.parent.baseURL + \"/api/\", {\r\n            username: this.props.parent.state.username,\r\n            password: this.props.parent.state.password,\r\n            note: this.state.note\r\n        }).then(response => {\r\n            if (response.status === 200) {\r\n                this.props.parent.stopLoading()\r\n                this.setState(prevState => {\r\n                    prevState.isSaving = false\r\n                    return prevState\r\n                })\r\n                // Sync.\r\n            }\r\n        }).catch(error => {\r\n            console.log(error)\r\n            this.setState(prevState => {\r\n                prevState.didSomethingWentWrong = true\r\n                prevState.isSaving = false\r\n                return prevState\r\n            })\r\n            this.props.parent.stopLoading()\r\n        })\r\n    }\r\n\r\n    shareNote() {\r\n        this.props.parent.startLoading()\r\n        axios.post(this.props.parent.baseURL + \"/api/share/\", {\r\n            username: this.props.parent.state.username,\r\n            password: this.props.parent.state.password\r\n        }).then(response => {\r\n            if (response.status === 200) {\r\n                this.props.parent.stopLoading()\r\n                let shareURL = response.data.share_url\r\n                navigator.clipboard.writeText(shareURL)\r\n                this.setState(prevState => {\r\n                    prevState.shared = true\r\n                    return prevState\r\n                })\r\n            }\r\n        }).catch(error => {\r\n            console.log(error)\r\n            this.setState(prevState => {\r\n                prevState.didSomethingWentWrong = true\r\n                return prevState\r\n            })\r\n            this.props.parent.stopLoading()\r\n        })\r\n    }\r\n\r\n    handleChange(currentTarget) {\r\n        this.setState(prevState => {\r\n            prevState.note = currentTarget.value\r\n            return prevState\r\n        })\r\n        if (!this.state.isSaving) {\r\n            this.saveNote()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"container\">\r\n                    <label>\r\n                        <div className=\"content\">\r\n                            <MaterialIcon icon=\"arrow_forward_ios\" />\r\n                            <textarea ref={this.textArea} className=\"content-input\" value={this.state.note} onChange={e => this.handleChange(e.currentTarget)} />\r\n                        </div>\r\n                    </label>\r\n                    {this.state.didSomethingWentWrong ? <Snackbar message=\"Sorry, something went wrong while saving your note.\" onClose={() => this.setState(prevState => {\r\n                        prevState.didSomethingWentWrong = false\r\n                        return prevState\r\n                    })} /> : \"\"}\r\n                </div>\r\n                <div className=\"fab\">\r\n                    <Fab icon={<MaterialIcon icon=\"share\" />} onClick={this.shareNote} />\r\n                </div>\r\n                {this.state.shared ? <Snackbar closeOnEscape actionText=\"Okay\" message=\"Sharing link has been copied to clipboard.\" onClose={() => this.setState(prevState => {\r\n                    prevState.shared = false\r\n                })} /> : \"\"}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;","import axios from 'axios'\r\nimport React, {Component} from 'react';\r\n\r\nimport MaterialIcon from \"@material/react-material-icon\"\r\nimport TextField, {Input} from '@material/react-text-field'\r\nimport {Snackbar} from \"@material/react-snackbar\";\r\nimport {Button} from \"@material/react-button\";\r\nimport IconButton from \"@material/react-icon-button\";\r\nimport {Overline} from \"@material/react-typography\";\r\n\r\nimport '@material/react-snackbar/dist/snackbar.css';\r\nimport '@material/react-icon-button/dist/icon-button.css';\r\nimport '@material/react-button/dist/button.css';\r\nimport '@material/react-typography/dist/typography.css';\r\n\r\n\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isPasswordWrong: false,\r\n            didSomethingWentWrong: false,\r\n            showPassword: false,\r\n        }\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.hideErrors = this.hideErrors.bind(this)\r\n        this.login = this.login.bind(this)\r\n    }\r\n\r\n\r\n    handleChange(currentTarget) {\r\n        this.props.parent.setState(prevState => {\r\n            prevState[currentTarget.name] = currentTarget.value\r\n            return prevState\r\n        })\r\n    }\r\n\r\n    hideErrors() {\r\n        this.setState(prevState => {\r\n            prevState.isPasswordWrong = false\r\n            prevState.didSomethingWentWrong = false\r\n            return prevState\r\n        })\r\n    }\r\n\r\n    login() {\r\n        this.props.parent.startLoading()\r\n        axios.post(this.props.parent.baseURL + \"/api/\", {\r\n            username: this.props.parent.state.username,\r\n            password: this.props.parent.state.password\r\n        }).then(response => {\r\n            if (response.status === 200) {\r\n                this.props.parent.setState(prevState => {\r\n                    prevState.isLoggedIn = true\r\n                    prevState.isLoading = false\r\n                    return prevState\r\n                })\r\n                localStorage.setItem(\"username\", this.props.parent.state.username)\r\n                localStorage.setItem(\"password\", this.props.parent.state.password)\r\n            }\r\n        }).catch(error => {\r\n            if (error.response.status === 401) {\r\n                this.setState(prevState => {\r\n                    prevState.isPasswordWrong = true\r\n                    return prevState\r\n                })\r\n            } else {\r\n                this.setState(prevState => {\r\n                    prevState.didSomethingWentWrong = true\r\n                    return prevState\r\n                })\r\n            }\r\n            this.props.parent.stopLoading()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"login-component\">\r\n                <MaterialIcon icon=\"account_circle\" />\r\n                <div style={{marginBottom: \"50px\"}} >\r\n                    <Overline>Create your new credentials or enter existing.</Overline>\r\n                </div>\r\n                <TextField label='Username'><Input name=\"username\" id=\"username\" value={this.props.parent.state.username} onChange={(e) => this.handleChange(e.currentTarget)} /></TextField>\r\n                <TextField label='Password' trailingIcon={<IconButton style={{top: \"4px\"}}><MaterialIcon icon=\"remove_red_eye\" /></IconButton>} onTrailingIconSelect={() => this.setState(prevstate => {\r\n                    prevstate.showPassword = !prevstate.showPassword\r\n                    return prevstate\r\n                })}><Input name=\"password\" type={this.state.showPassword ? \"text\" : \"password\"} id=\"password\" value={this.props.parent.state.password} onChange={(e) => this.handleChange(e.currentTarget)} /></TextField>\r\n                <Button raised icon={<MaterialIcon icon=\"lock_open\" />} onClick={this.login}>Login</Button>\r\n                {this.state.isPasswordWrong ? <Snackbar message=\"The password you entered is incorrect.\" onClose={this.hideErrors} /> : \"\"}\r\n                {this.state.didSomethingWentWrong ? <Snackbar message=\"Sorry, something went wrong.\" onClose={this.hideErrors} /> : \"\"}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;","import React, {Component} from 'react';\r\nimport MaterialIcon from \"@material/react-material-icon\";\r\n\r\n\r\nclass Shared extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.textArea = React.createRef()\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.textArea.current.focus()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <label>\r\n                    <div className=\"content\">\r\n                        <MaterialIcon icon=\"arrow_forward_ios\" /><span style={{\r\n                        fontFamily: \"Roboto\", position: \"absolute\"\r\n                    }}><h2 style={{display: \"inline\", paddingLeft: \"5px\"}}>{window.sharedPayload ? window.sharedPayload.username : \"\"}</h2></span>\r\n                        <textarea ref={this.textArea} className=\"content-input\" value={window.sharedPayload ? window.sharedPayload.note : \"\"} onChange={() => {}} style={{\r\n                            backgroundColor: \"white\"\r\n                        }} />\r\n                    </div>\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Shared;","import React, { Component } from 'react'\n\nimport './App.css'\n\nimport Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nimport Login from \"./components/Login\";\nimport Shared from \"./components/Shared\";\nimport axios from \"axios\";\n\n\n\nexport default class App extends Component {\n\n    // baseURL = \"https://cosmos.the-be.st\"\n    baseURL = \"\"\n\n    constructor() {\n        super()\n        this.state = {\n            username: \"\",\n            password: \"\",\n            isLoggedIn: false,\n            isLoading: false,\n            hasPageLoaded: false,\n        }\n        this.doSessionLogout = this.doSessionLogout.bind(this)\n    }\n\n    componentDidMount() {\n        this.trySessionLogin()\n    }\n\n    startLoading() {\n        this.setState(prevState => {\n            prevState.isLoading = true\n            return prevState\n        })\n    }\n\n    stopLoading() {\n        this.setState(prevState => {\n            prevState.isLoading = false\n            return prevState\n        })\n    }\n\n    trySessionLogin() {\n        this.startLoading()\n        axios.get(this.baseURL + \"/api/\").then(response => {\n            if (response.status === 200) {\n                this.setState(prevState => {\n                    prevState.username = response.data.username\n                    prevState.password = response.data.password\n                    prevState.isLoggedIn = true\n                    prevState.isLoading = false\n                    prevState.hasPageLoaded = true\n                    return prevState\n                })\n            }\n        }).catch(error => {\n            // Normal login flow.\n            let username = localStorage.getItem(\"username\")\n            let password = localStorage.getItem(\"password\")\n            username && password ? this.setState(prevState => {\n                prevState.username = username\n                prevState.password = password\n                prevState.isLoggedIn = true\n                return prevState\n                }) : // pass\n            this.stopLoading()\n            this.setState(prevState => {\n                prevState.hasPageLoaded = true\n                prevState.isLoading = false\n                return prevState\n            })\n        })\n    }\n\n    doSessionLogout() {\n        this.startLoading()\n        localStorage.clear()\n        axios.delete(this.baseURL + \"/api/revoke/\").then(response => {\n            if (response.status === 200) {\n                this.setState(prevState => {\n                    prevState.username = \"\"\n                    prevState.password = \"\"\n                    prevState.isLoggedIn = false\n                    prevState.isLoading = false\n                    return prevState\n                })\n            }\n        }).catch(error => {\n            this.stopLoading()\n        })\n    }\n\n  render() {\n    return (\n      <div>\n        <Header parent={this} />\n          {window.sharedPayload ? <Shared/> :\n              this.state.hasPageLoaded ?\n                this.state.isLoggedIn ? <Main parent={this}/> : <Login parent={this}/> : \"\"\n          }\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}